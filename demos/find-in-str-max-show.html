<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <style>
  </style>
</head>
<body>
<html>
<head></head>
<body>
</body>
</html>

<script type="text/javascript" src="http://lib.sinaapp.com/js/jquery/1.9.0/jquery.min.js"></script>
<script>
  $(function () {


    let str = 'afjghdfraaaasdenajjjjjjeeeaaaaaaafdgreerutyjghfgaaaaaaaaaaaaaaaaaaaaaaaaaaaaas';
    let arr = str.split('');
    let p = [], n = [];
    arr.forEach((i) => {
      if (p.includes(i)) {
        let idx = p.findIndex((e) => e === i);
        let nn = n[idx];
        nn++;
        n.splice(idx, 1, nn);
      } else {
        p.push(i);
        n.push(1);
      }
    })
    let max = Math.max.apply(null, n);
    let res = p[n.indexOf(max)];
    console.log(str);
    console.log(p);
    console.log(n);
    console.log(max);
    console.log(res);


  })
</script>
</body>
</html>
